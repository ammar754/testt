<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Nebula Store Rank</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg-1:#07030a; --bg-2:#18041a;
  --gold-1:#ffd36e; --gold-2:#ff9e63;
  --purple-1:#6f2bd8; --purple-2:#b36bff;
  --muted:#c7c9cf;
  --card-radius:18px;
  --glass: rgba(255,255,255,0.03);
  --accent: linear-gradient(120deg,var(--gold-1),var(--purple-2));
  --shadow-lg: 0 30px 90px rgba(10,8,12,0.78);
  --maxw:1240px;
  font-family: "Montserrat", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  color-scheme: dark;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:
  radial-gradient(900px 360px at 8% 12%, rgba(183,110,255,0.06), transparent),
  radial-gradient(800px 300px at 92% 86%, rgba(255,165,90,0.03), transparent),
  linear-gradient(180deg,var(--bg-1),var(--bg-2));
  color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
a{color:inherit;text-decoration:none}

/* page container */
.container{max-width:var(--maxw);margin:36px auto;padding:28px}

/* header */
.header{display:flex;align-items:center;gap:18px;margin-bottom:18px}
.logo{
  width:82px;height:82px;border-radius:16px;background:var(--accent);display:flex;align-items:center;justify-content:center;font-weight:800;color:#170a04;font-size:22px;border:1px solid rgba(255,255,255,0.03);
  box-shadow: 0 28px 100px rgba(183,110,255,0.12), inset 0 -8px 18px rgba(255,255,255,0.03)
}
.brand{display:flex;flex-direction:column}
.brand h1{margin:0;font-family:"Playfair Display", serif;font-size:22px;font-weight:700}
.brand p{margin:6px 0 0;color:var(--muted);font-size:13px}

/* top controls */
.topbar{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin:20px 0}
.input{
  min-width:320px;padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.008));font-weight:700;color:#081225;outline:none
}
.controls{margin-left:auto;display:flex;gap:10px;align-items:center}
.btn{padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--muted);cursor:pointer;font-weight:800}
.btn.primary{background:var(--accent);color:#160a04;border:none;box-shadow:0 18px 70px rgba(183,110,255,0.09);transition:transform .12s}
.btn.primary:hover{transform:translateY(-3px)}
.hint{color:var(--muted);font-size:13px}

/* hero */
.hero{display:grid;grid-template-columns:1fr 420px;gap:22px;align-items:stretch;margin-bottom:26px}
@media (max-width:980px){.hero{grid-template-columns:1fr}}
.hero-card{
  padding:22px;border-radius:16px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.008));
  border:1px solid rgba(255,255,255,0.03);backdrop-filter: blur(10px);box-shadow:var(--shadow-lg)
}
.hero-card h2{margin:0;font-family:"Playfair Display", serif;font-size:26px}
.hero-card p{color:var(--muted);margin-top:8px}

/* grid */
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:22px;align-items:stretch}
@media (max-width:1100px){.grid{grid-template-columns:repeat(2,1fr)}}
@media (max-width:720px){.grid{grid-template-columns:1fr}; .topbar{flex-direction:column;align-items:flex-start}}

/* card */
.card{
  position:relative;padding:20px;border-radius:var(--card-radius);
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.006));
  border:1px solid rgba(255,255,255,0.03);box-shadow:0 18px 60px rgba(6,6,12,0.75);
  backdrop-filter: blur(12px) saturate(140%);overflow:hidden;transition:transform .18s,box-shadow .18s,opacity .25s;
  will-change:transform,opacity; transform: translateY(18px); opacity: 0;
}
.card.visible{transform:translateY(0);opacity:1}
.card:hover{transform:translateY(-12px);box-shadow:0 70px 200px rgba(6,6,12,0.96)}
.card::before{
  content:"";position:absolute;right:-18%;top:-30%;width:220px;height:220px;border-radius:50%;
  background: radial-gradient(circle at 30% 30%, rgba(255,210,110,0.09), transparent 30%), radial-gradient(circle at 70% 70%, rgba(170,100,255,0.06), transparent 30%);
  filter: blur(28px);pointer-events:none;opacity:0.95
}

/* content */
.row{display:flex;align-items:center;gap:14px}
.icon{width:76px;height:76px;border-radius:14px;background:linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.008));display:flex;align-items:center;justify-content:center;font-weight:900;color:var(--muted);border:1px solid rgba(255,255,255,0.02)}
.title{font-weight:900;font-size:18px}
.desc{color:var(--muted);font-size:13px;margin-top:6px}
.price{font-weight:900;font-size:20px;color:var(--gold-1);margin-left:auto}

.perks{display:flex;flex-direction:column;gap:8px;color:var(--muted);font-size:14px;margin-top:12px}
.perk{display:flex;gap:10px;align-items:flex-start}
.perk .dot{width:10px;height:10px;border-radius:50%;background:linear-gradient(90deg,var(--gold-1),var(--gold-2));box-shadow:0 10px 30px rgba(255,170,70,0.06);margin-top:6px}

.actions{display:flex;gap:12px;align-items:center;margin-top:14px}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted);padding:10px 12px;border-radius:10px;font-weight:700}

.divider{height:1px;background:linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.03));margin-top:10px}

/* ribbon */
.ribbon{position:absolute;top:14px;right:14px;padding:8px 12px;border-radius:999px;background:linear-gradient(90deg,var(--gold-1),var(--gold-2));color:#2b1600;font-weight:900;font-size:13px;box-shadow:0 16px 40px rgba(255,150,80,0.06)}

/* sticky CTA (mobile) */
.sticky{position:fixed;left:50%;transform:translateX(-50%);bottom:18px;z-index:130;display:none}
.sticky button{padding:14px 22px;border-radius:999px;background:var(--accent);color:#170a05;border:none;font-weight:900;box-shadow:0 28px 80px rgba(183,110,255,0.12)}
@media (max-width:720px){.sticky{display:block;width:calc(100% - 40px);left:20px;transform:none}.sticky button{width:100%}}

/* modal */
.modal-backdrop{position:fixed;inset:0;background:linear-gradient(180deg, rgba(0,0,0,0.6), rgba(10,6,12,0.6));display:flex;align-items:center;justify-content:center;z-index:999;opacity:0;pointer-events:none;transition:opacity .16s}
.modal-backdrop.show{opacity:1;pointer-events:auto}
.modal{width:100%;max-width:620px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.006));border-radius:14px;padding:22px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 30px 90px rgba(0,0,0,0.7)}
.modal h3{margin:0 0 8px}
.modal p{color:var(--muted);margin:0 0 12px}
.modal .row{display:flex;gap:10px}
.modal input{flex:1;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.008));color:#071225;font-weight:700;outline:none}
.modal .actions{display:flex;justify-content:flex-end;gap:10px;margin-top:14px}

/* confirm */
pre.confirm{white-space:pre-wrap;background:rgba(0,0,0,0.12);padding:12px;border-radius:8px;color:var(--muted);margin-top:10px}

/* toast */
.toast{position:fixed;right:20px;bottom:20px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.008));padding:10px 14px;border-radius:10px;color:var(--muted);box-shadow:0 14px 50px rgba(0,0,0,0.6);z-index:110;border:1px solid rgba(255,255,255,0.03)}
.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0}
</style>
</head>
<body>
  <div class="container" role="main" aria-labelledby="pageTitle">
    <header class="header" aria-hidden>
      <div class="logo">NS</div>
      <div class="brand">
        <h1 id="pageTitle">Nebula Store Rank</h1>
        <p>Premium • Emas & Ungu • Checkout via WhatsApp</p>
      </div>
    </header>

    <div class="topbar" role="region" aria-label="IGN">
      <label for="ign" class="visually-hidden">IGN</label>
      <input id="ign" class="input" placeholder="Masukkan IGN Minecraft — contoh: Ammar123" />
      <div class="controls" role="group">
        <button id="saveIgn" class="btn primary">Simpan IGN</button>
        <button id="clearIgn" class="btn">Hapus</button>
      </div>
      <div class="hint" style="margin-left:12px">Setelah simpan, klik Beli → isi (jika custom) → konfirmasi → WA terbuka</div>
    </div>

    <div class="hero" role="region" aria-label="hero">
      <section class="hero-card" aria-hidden>
        <h2>Rank Eksklusif untuk Server Anda</h2>
        <p class="desc">Pilih dari Voidling sampai Custom. Setelah pilih & konfirmasi, chat WhatsApp ke admin terbuka otomatis untuk instruksi pembayaran dan verifikasi manual.</p>
        <div style="margin-top:16px;display:flex;gap:12px;align-items:center">
          <input id="heroIgn" class="input" placeholder="Masukkan IGN (opsional)" />
          <div style="margin-left:auto;display:flex;gap:8px">
            <button id="heroSave" class="btn primary">Simpan</button>
            <button id="heroClear" class="btn">Hapus</button>
          </div>
        </div>
      </section>

      <aside class="hero-card" aria-hidden>
        <div style="display:flex;gap:12px;align-items:center">
          <div style="width:56px;height:56px;border-radius:12px;background:var(--accent);display:flex;align-items:center;justify-content:center;font-weight:900;color:#170a05">★</div>
          <div>
            <div style="font-weight:800">Mengapa Nebula?</div>
            <div style="color:var(--muted);font-size:13px;margin-top:6px">Desain premium • Manual verifikasi • Support</div>
          </div>
        </div>
        <div style="margin-top:18px">
          <div style="display:flex;justify-content:space-between"><div style="color:var(--muted)">Customer Care</div><div style="font-weight:800">24/7</div></div>
          <div style="display:flex;justify-content:space-between;margin-top:8px"><div style="color:var(--muted)">Refund</div><div style="font-weight:800">7 hari</div></div>
        </div>
        <div style="margin-top:auto"><button class="btn primary" onclick="shortToast('Promo demo — hubungi admin via WA')">Ambil Promo</button></div>
      </aside>
    </div>

    <section aria-label="Daftar Rank">
      <div class="grid" id="grid"></div>
    </section>

    <footer style="margin-top:28px;color:var(--muted);font-size:13px">
      Transaksi via WhatsApp: <strong>+6289677559943</strong> · Pastikan IGN benar sebelum mengirim. © Nebula Store Rank • 2025
    </footer>
  </div>

  <div class="sticky" id="sticky" aria-hidden="true"><button id="stickyBtn">Beli Sekarang</button></div>

  <!-- MODALS -->
  <div id="modalIgn" class="modal-backdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <h3>Masukkan IGN</h3>
      <p>Masukkan IGN supaya pesan pembelian otomatis terisi.</p>
      <div class="row"><input id="modalIgnInput" placeholder="Contoh: Ammar123" /></div>
      <div class="actions" style="margin-top:14px"><button id="modalIgnCancel" class="btn">Batal</button><button id="modalIgnSave" class="btn primary">Simpan & Lanjut</button></div>
    </div>
  </div>

  <div id="modalCustom" class="modal-backdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <h3>Request Custom Rank</h3>
      <p>Masukkan nama rank custom (mis. ShadowLord)</p>
      <div class="row"><input id="modalCustomInput" placeholder="Nama custom rank" /></div>
      <div class="actions" style="margin-top:14px"><button id="modalCustomCancel" class="btn">Batal</button><button id="modalCustomSave" class="btn primary">Lanjutkan</button></div>
    </div>
  </div>

  <div id="modalConfirm" class="modal-backdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <h3>Konfirmasi Pesan</h3>
      <p>Periksa pesan sebelum dikirim ke WhatsApp:</p>
      <pre id="confirmPre" class="confirm"></pre>
      <div class="actions" style="margin-top:14px"><button id="confirmCancel" class="btn">Batal</button><button id="confirmSend" class="btn primary">Kirim ke WhatsApp</button></div>
    </div>
  </div>

  <div id="toastRoot" aria-live="polite"></div>

<script>
/* Final logic: ranks, IGN storage, buy flow, custom, confirm => WA */
const WA='6289677559943';
const RANKS=[
  {id:'Voidling',priceLabel:'15k',price:15000,desc:'Entry — cocok pemula',perks:['Warna nick & prefix','Akses VIP kecil','Tag chat custom']},
  {id:'Phantom',priceLabel:'30k',price:30000,desc:'Fitur tambahan',perks:['Semua Voidling','Warp pribadi','Bonus daily']},
  {id:'Warlord',priceLabel:'60k',price:60000,desc:'Paling populer',perks:['Semua Phantom','Crate & kit premium','Priority queue'],popular:true},
  {id:'Overseer',priceLabel:'90k',price:90000,desc:'Advanced perks',perks:['Semua Warlord','Custom home','Badge forum']},
  {id:'Eternal',priceLabel:'100k',price:100000,desc:'Eksklusif & permanen',perks:['Title permanen + efek','Invite events','VIP badge']},
  {id:'Titan',priceLabel:'130k',price:130000,desc:'Tier tinggi',perks:['Custom kit eksklusif','Priority support','Sponsor perks']},
  {id:'Custom',priceLabel:'160k',price:160000,desc:'Buat sesuai request',perks:['Konsultasi perks','Nama & efek khusus','Setup & deploy'],custom:true}
];

const grid=document.getElementById('grid');
const ign=document.getElementById('ign');
const saveIgn=document.getElementById('saveIgn');
const clearIgn=document.getElementById('clearIgn');
const heroIgn=document.getElementById('heroIgn');
const heroSave=document.getElementById('heroSave');
const heroClear=document.getElementById('heroClear');

const modalIgn=document.getElementById('modalIgn');
const modalIgnInput=document.getElementById('modalIgnInput');
const modalIgnSave=document.getElementById('modalIgnSave');
const modalIgnCancel=document.getElementById('modalIgnCancel');

const modalCustom=document.getElementById('modalCustom');
const modalCustomInput=document.getElementById('modalCustomInput');
const modalCustomSave=document.getElementById('modalCustomSave');
const modalCustomCancel=document.getElementById('modalCustomCancel');

const modalConfirm=document.getElementById('modalConfirm');
const confirmPre=document.getElementById('confirmPre');
const confirmSend=document.getElementById('confirmSend');
const confirmCancel=document.getElementById('confirmCancel');

const toastRoot=document.getElementById('toastRoot');
const sticky=document.getElementById('sticky');
const stickyBtn=document.getElementById('stickyBtn');

let pending=null;

function esc(s){ return String(s).replace(/[&<>"']/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }
function show(el){ el.classList.add('show'); el.setAttribute('aria-hidden','false'); }
function hide(el){ el.classList.remove('show'); el.setAttribute('aria-hidden','true'); }
function shortToast(msg,ms=1600){ const t=document.createElement('div'); t.className='toast'; t.textContent=msg; toastRoot.appendChild(t); setTimeout(()=>t.style.opacity='0', ms-200); setTimeout(()=>t.remove(), ms); }

// render
function render(){
  grid.innerHTML='';
  RANKS.forEach(r=>{
    const c=document.createElement('article'); c.className='card';
    c.innerHTML=`
      ${r.popular?'<div class="ribbon">Best Seller</div>':''}
      <div class="row">
        <div class="icon" aria-hidden>${svgIcon(r.id)}</div>
        <div style="flex:1"><div class="title">${esc(r.id)}</div><div class="desc">${esc(r.desc)}</div></div>
        <div class="price">${esc(r.priceLabel)}</div>
      </div>
      <div class="perks">${r.perks.map(p=>`<div class="perk"><div class="dot"></div><div>${esc(p)}</div></div>`).join('')}</div>
      <div class="divider"></div>
      <div class="actions">
        <button class="btn primary" data-buy="${esc(r.id)}">${r.custom?'Request':'Beli'}</button>
        <button class="btn ghost" data-preview="${esc(r.id)}">Preview</button>
      </div>`;
    grid.appendChild(c);
  });

  grid.querySelectorAll('[data-buy]').forEach(b=>b.addEventListener('click', e=>{
    const id=b.getAttribute('data-buy'); const rank=RANKS.find(x=>x.id===id); buy(rank);
  }));
  grid.querySelectorAll('[data-preview]').forEach(b=>b.addEventListener('click', e=> shortToast('Preview: '+b.getAttribute('data-preview'))));
  observe();
}

// svg icon
function svgIcon(name){
  const ch = esc((name||'?')[0]);
  return `<svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="g" x1="0" x2="1"><stop offset="0" stop-color="${'#ffd36e'}"/><stop offset="1" stop-color="${'#b36bff'}"/></linearGradient></defs><rect width="64" height="64" rx="14" fill="url(#g)"/><text x="50%" y="60%" text-anchor="middle" font-family="Montserrat, sans-serif" font-weight="800" font-size="28" fill="#2b1207">${ch}</text></svg>`;
}

// load saved IGN
const saved = localStorage.getItem('nebula_ign') || '';
if(saved){ ign.value = saved; heroIgn.value = saved; shortToast('IGN dimuat: ' + saved,1200); }

// save/clear handlers
saveIgn.addEventListener('click', ()=>{ const v=ign.value.trim(); if(!v){ alert('Isi IGN terlebih dulu.'); ign.focus(); return; } localStorage.setItem('nebula_ign', v); heroIgn.value=v; shortToast('IGN tersimpan: '+v); });
clearIgn.addEventListener('click', ()=>{ localStorage.removeItem('nebula_ign'); ign.value=''; heroIgn.value=''; shortToast('IGN dihapus'); });
heroSave.addEventListener('click', ()=>{ const v=heroIgn.value.trim(); if(!v){ alert('Isi IGN.'); heroIgn.focus(); return; } localStorage.setItem('nebula_ign', v); ign.value=v; shortToast('IGN tersimpan: '+v); });
heroClear.addEventListener('click', ()=>{ localStorage.removeItem('nebula_ign'); heroIgn.value=''; ign.value=''; shortToast('IGN dihapus'); });

// buy flow
function buy(rank){
  pending = {rank, customName:null};
  const ignVal = (ign.value || heroIgn.value || localStorage.getItem('nebula_ign') || '').trim();
  if(!ignVal){ show(modalIgn); modalIgnInput.value=''; setTimeout(()=>modalIgnInput.focus(),60); return; }
  if(rank.custom){ show(modalCustom); modalCustomInput.value=''; setTimeout(()=>modalCustomInput.focus(),60); return; }
  openConfirm(rank.id, null, ignVal, rank.priceLabel);
}

// modal ign
modalIgnSave.addEventListener('click', ()=> {
  const v = modalIgnInput.value.trim(); if(!v){ alert('Isi IGN.'); modalIgnInput.focus(); return; }
  localStorage.setItem('nebula_ign', v); ign.value=v; heroIgn.value=v; hide(modalIgn); shortToast('IGN tersimpan: '+v);
  if(pending){ if(pending.rank.custom){ show(modalCustom); } else openConfirm(pending.rank.id, null, v, pending.rank.priceLabel); }
});
modalIgnCancel.addEventListener('click', ()=>{ hide(modalIgn); pending=null; });

// modal custom
modalCustomSave.addEventListener('click', ()=> {
  const v = modalCustomInput.value.trim(); if(!v){ alert('Masukkan nama custom'); modalCustomInput.focus(); return; }
  pending.customName = v; hide(modalCustom);
  const ignVal = (ign.value || heroIgn.value || localStorage.getItem('nebula_ign') || '').trim();
  openConfirm(pending.rank.id, v, ignVal, pending.rank.priceLabel);
});
modalCustomCancel.addEventListener('click', ()=>{ hide(modalCustom); pending=null; });

// confirm
function openConfirm(rankName, customName, ignVal, price){
  const lines=[];
  lines.push(`Bang saya mau beli rank ${rankName}`);
  if(customName) lines.push(`Nama custom rank: ${customName}`);
  lines.push(`IGN saya: ${ignVal}`);
  lines.push(`Harga: ${price}`);
  lines.push('');
  lines.push('Mohon instruksi pembayaran dan konfirmasi. Terima kasih.');
  confirmPre.textContent = lines.join('\n');
  show(modalConfirm);
}
confirmCancel.addEventListener('click', ()=>{ hide(modalConfirm); });
confirmSend.addEventListener('click', ()=> {
  const text = confirmPre.textContent || ''; const url = `https://wa.me/${WA}?text=` + encodeURIComponent(text);
  window.open(url, '_blank'); hide(modalConfirm); shortToast('Membuka WhatsApp — pastikan pesan sudah benar'); pending=null;
});

// sticky (mobile)
stickyBtn.addEventListener('click', ()=> shortToast('Gunakan tombol Beli pada rank yang ingin dibeli'));
window.addEventListener('scroll', ()=> { if(window.innerWidth <= 720){ const y=window.scrollY; document.getElementById('sticky').style.display = (y>140)?'block':'none'; } });

// accessibility & click outside
document.addEventListener('keydown', e => { if(e.key === 'Escape') document.querySelectorAll('.modal-backdrop.show').forEach(m => m.classList.remove('show')); });
document.querySelectorAll('.modal-backdrop').forEach(m => m.addEventListener('click', ev => { if(ev.target === m){ m.classList.remove('show'); pending=null; } }));

// toast util
function shortToast(msg, ms=1600){ const t=document.createElement('div'); t.className = 'toast'; t.textContent = msg; toastRoot.appendChild(t); setTimeout(()=>t.style.opacity='0', ms-200); setTimeout(()=>t.remove(), ms); }

// intersection observer animation
function observe(){
  const cards = document.querySelectorAll('.card');
  const io = new IntersectionObserver((entries, obs)=> {
    entries.forEach(e => {
      if(e.isIntersecting){ e.target.classList.add('visible'); obs.unobserve(e.target); }
    });
  }, {threshold:0.12});
  cards.forEach(c => io.observe(c));
}

// initialize
render();
</script>
</body>
</html>
