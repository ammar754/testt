<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nebula Hardcore Store</title>
  <style>
    body {
      margin:0; font-family:'Poppins',sans-serif;
      background:linear-gradient(135deg,#0a0a0f,#1a1a2a);
      color:#fff; display:flex; height:100vh; overflow:hidden;
    }
    /* Sidebar */
    .sidebar {
      width:220px; background:#111; padding:20px;
      display:flex; flex-direction:column;
    }
    .sidebar h2 { margin:0 0 20px; text-align:center; color:#6e00ff; }
    .sidebar a {
      padding:12px; margin:6px 0;
      background:rgba(255,255,255,0.05);
      border-radius:8px; cursor:pointer;
      transition:.3s; text-decoration:none; color:#fff;
    }
    .sidebar a:hover { background:rgba(255,255,255,0.15); }
    /* Content */
    .content { flex:1; padding:20px; overflow-y:auto; }
    .page { display:none; }
    .page.active { display:block; }
    /* Store */
    .store {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
      gap:20px;
    }
    .card {
      background:rgba(255,255,255,0.05);
      border-radius:15px;
      padding:20px;
      backdrop-filter:blur(6px);
      transition:.3s;
    }
    .card:hover { transform:scale(1.05); }
    .price { color:#00e0ff; font-size:18px; margin:10px 0; }
    button {
      padding:10px 16px; border:none; border-radius:8px;
      background:linear-gradient(90deg,#6e00ff,#00c3ff);
      color:#fff; font-weight:bold; cursor:pointer; transition:.3s;
    }
    button:hover { opacity:.85; }
    /* Ticket */
    .ticket {
      background:rgba(255,255,255,0.05);
      padding:12px; border-radius:10px; margin:10px 0;
    }
    .ticket .status { font-size:12px; color:#0ff; }
    /* Modal */
    .modal {
      position:fixed; top:0; left:0; right:0; bottom:0;
      background:rgba(0,0,0,0.7); display:flex;
      align-items:center; justify-content:center; display:none;
    }
    .modal-content {
      background:#151522; padding:20px; border-radius:12px;
      width:320px; max-width:90%;
    }
    input, textarea, select {
      width:100%; margin:8px 0; padding:10px;
      border-radius:8px; border:none; outline:none;
    }
    textarea { resize:none; height:80px; }
    /* Toast */
    .toast {
      position:fixed; bottom:20px; right:20px;
      background:#222; padding:12px 20px; border-radius:8px;
      color:#fff; opacity:0; transition:.5s;
    }
    .toast.show { opacity:1; }
  </style>
</head>
<body>
  <!-- Sidebar -->
  <div class="sidebar">
    <h2>Nebula Store</h2>
    <a onclick="showPage('store')">üõí Store</a>
    <a onclick="showPage('tickets')">üéü Tickets</a>
    <a onclick="showPage('admin')">‚öôÔ∏è Admin</a>
  </div>

  <!-- Content -->
  <div class="content">
    <!-- Store -->
    <section id="store" class="page active">
      <h2>Store Rank</h2>
      <div class="store" id="storeList"></div>
    </section>

    <!-- Tickets -->
    <section id="tickets" class="page">
      <h2>Support Tickets</h2>
      <button onclick="openTicketModal()">+ Buat Ticket</button>
      <div id="ticketList"></div>
    </section>

    <!-- Admin -->
    <section id="admin" class="page">
      <h2>Admin Panel</h2>
      <div>
        <input type="text" id="pName" placeholder="Nama Produk">
        <input type="number" id="pPrice" placeholder="Harga">
        <button onclick="addProduct()">Tambah Produk</button>
      </div>
      <h3>Daftar Produk</h3>
      <div id="adminProductList"></div>
    </section>
  </div>

  <!-- Ticket Modal -->
  <div class="modal" id="ticketModal">
    <div class="modal-content">
      <h3>Buat Ticket</h3>
      <input type="text" id="tUser" placeholder="Username">
      <input type="email" id="tEmail" placeholder="Email">
      <select id="tCat">
        <option>Rank</option>
        <option>Pembayaran</option>
        <option>Lainnya</option>
      </select>
      <textarea id="tDesc" placeholder="Deskripsi masalah..."></textarea>
      <button onclick="submitTicket()">Kirim</button>
      <button onclick="closeTicketModal()">Batal</button>
    </div>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast"></div>

<script>
  // Navigation
  function showPage(id){
    document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
    document.getElementById(id).classList.add('active');
  }

  // Toast
  function toast(msg){
    let t=document.getElementById("toast");
    t.textContent=msg;
    t.classList.add("show");
    setTimeout(()=>t.classList.remove("show"),3000);
  }

  // Products
  let products=JSON.parse(localStorage.getItem("products"))||[
    {name:"Voidling",price:15000},
    {name:"Phantom",price:30000},
    {name:"Warlord",price:60000},
    {name:"Overseer",price:90000},
    {name:"Eternal",price:100000},
    {name:"Titan",price:130000}
  ];

  function renderStore(){
    let store=document.getElementById("storeList");
    store.innerHTML="";
    products.forEach((p,i)=>{
      store.innerHTML+=`
      <div class="card">
        <h3>${p.name}</h3>
        <p class="price">Rp${p.price.toLocaleString()}</p>
        <button onclick="order('${p.name}')">Beli</button>
      </div>`;
    });
  }
  renderStore();

  function renderAdmin(){
    let list=document.getElementById("adminProductList");
    list.innerHTML="";
    products.forEach((p,i)=>{
      list.innerHTML+=`
        <div class="ticket">
          <b>${p.name}</b> - Rp${p.price.toLocaleString()}
          <button onclick="deleteProduct(${i})">Hapus</button>
        </div>`;
    });
  }
  renderAdmin();

  function addProduct(){
    let n=document.getElementById("pName").value;
    let pr=parseInt(document.getElementById("pPrice").value);
    if(n&&pr){
      products.push({name:n,price:pr});
      localStorage.setItem("products",JSON.stringify(products));
      renderStore(); renderAdmin();
      toast("Produk ditambah!");
    }
  }
  function deleteProduct(i){
    products.splice(i,1);
    localStorage.setItem("products",JSON.stringify(products));
    renderStore(); renderAdmin();
    toast("Produk dihapus!");
  }
  function order(n){ toast("Order "+n+" dibuat!"); }

  // Tickets
  let tickets=JSON.parse(localStorage.getItem("tickets"))||[];
  function renderTickets(){
    let list=document.getElementById("ticketList");
    list.innerHTML="";
    tickets.forEach((t,i)=>{
      list.innerHTML+=`
        <div class="ticket">
          <b>${t.user}</b> (${t.email})<br>
          Kategori: ${t.cat}<br>
          ${t.desc}<br>
          <span class="status">Status: ${t.status}</span><br>
          <button onclick="setStatus(${i},'Closed')">Tutup</button>
          <button onclick="deleteTicket(${i})">Hapus</button>
        </div>`;
    });
  }
  renderTickets();

  function openTicketModal(){ document.getElementById("ticketModal").style.display="flex"; }
  function closeTicketModal(){ document.getElementById("ticketModal").style.display="none"; }

  function submitTicket(){
    let u=document.getElementById('tUser').value;
    let e=document.getElementById('tEmail').value;
    let c=document.getElementById('tCat').value;
    let d=document.getElementById('tDesc').value;
    if(u&&e&&d){
      tickets.push({user:u,email:e,cat:c,desc:d,status:"Open"});
      localStorage.setItem("tickets",JSON.stringify(tickets));
      renderTickets(); toast("Ticket terkirim!");
      closeTicketModal();
    } else toast("Isi semua field!");
  }
  function setStatus(i,s){ tickets[i].status=s; localStorage.setItem("tickets",JSON.stringify(tickets)); renderTickets(); }
  function deleteTicket(i){ tickets.splice(i,1); localStorage.setItem("tickets",JSON.stringify(tickets)); renderTickets(); toast("Ticket dihapus!"); }
</script>
</body>
</html>
